webpackJsonp([1],Array(18).concat([function(e,t,n){"use strict";function i(e){throw this.requests.clear(),this.service=null,e}function o(){console.log("Connected to the server"),this.service=new g.a,this.onConnected&&this.onConnected()}function r(e){var t=void 0;if("string"==typeof e.data)t=e.data,console.log("onMessage:\r\n"+e.data);else if(e.data instanceof ArrayBuffer){var i=e.data;t=ab2str(i)}var o=n.i(v.b)(t),r=o.headers.get("CSeq");if(n.i(v.c)(o.firstLine)){var a=this.requests.get(c()(r));if(a){var s=new v.d(this.ws,{headers:{CSeq:r}});a.onResponse(o.content,s)}}else if(n.i(v.e)(o.firstLine)&&this.service){var d=n.i(v.f)(o.firstLine),u={path:d.path,method:d.method,headers:o.headers},l=new v.a(u);l.addBody(o.content);var p=new v.d(this.ws,{headers:{CSeq:r}});this.service.emit("request",l,p)}else console.log(new Error(t))}function a(e){var t=e.code,n=e.reason,i=e.wasClean,o=void 0;o=i?"Connection closed normally.":"Connection closed with message "+n+"(Code: "+t+")",this.requests.clear(),this.service=null,this.onConnected=null,console.log(o)}var s=n(134),c=n.n(s),d=n(65),u=n.n(d),l=n(38),p=n.n(l),h=n(39),f=n.n(h),v=n(37),m=n(128),g=n(129),_=function(){function e(t){if(p()(this,e),"string"==typeof t)this.ws=new WebSocket(t);else{if(!t.hostname||!t.port)throw new Error("Unable to connect to the domain name");var n=t.path||"/";"localhost"===t.hostname||"172.0.0.1"===t.hostname?this.ws=new WebSocket("ws://"+t.hostname+":"+t.port+n):this.ws=new WebSocket("wss://"+t.hostname+":"+t.port+n),this.path=n.substring(1)||""}this.ws&&(this.ws.onerror=i.bind(this),this.ws.onopen=o.bind(this),this.ws.onmessage=r.bind(this),this.ws.onclose=a.bind(this)),this.requests=new u.a,this.service=null,this.onConnected=null}return f()(e,[{key:"_addRequest",value:function(e,t){this.requests.set(e,t)}},{key:"createClientRequest",value:function(e,t){var n=new v.a(e),i=new m.a(this.ws,n,t);return n.headers.set("CSeq",i.getRequestId()),this.requestId=i.getRequestId(),this._addRequest(i.getRequestId(),i),i}},{key:"addServiceListener",value:function(e){this.service?this.service.addRequestListener(e):console.log("Client service has not been created!")}},{key:"removeServiceListener",value:function(e){this.service.removeRequestListener(e)}},{key:"close",value:function(){this.ws&&this.ws.close(),this.requests.clear(),this.service=null,this.onConnected=null}}]),e}();t.a=_},function(e,t,n){"use strict";function i(e){var t=(window.performance.now()/1e3).toFixed(3);console.log(t+": ",e)}t.a=i},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var i=(n(26),n(18)),o=new Array;o.push({name:"peertopeer",desc:"gstreamer",groupId:1}),o.push({name:"remotepeer",desc:"gstreamer",groupId:1}),o.push({name:"multipeer",desc:"gstreamer",groupId:1}),"undefined"==typeof WebSocket&&alert("your browser not support WebSocket");var r="172.16.66.57",a=8080,s={hostname:r,port:a,path:"/endpoint10000"};new i.a(s).onConnected=function(){console.log("endpoint10000 connected to signalling server!")}},function(e,t,n){"use strict";function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function o(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0,o=e.length;i<o;i++)n[i]=e.charCodeAt(i);return t}function r(e){var t=e.toUpperCase();return ee.indexOf(t)>-1?t:e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return te.iterable&&(t[H.a]=function(){return t}),t}function s(e){this.map={},e instanceof s?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&$()(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return F.a.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e}function u(e){return"number"==typeof e?e:("string"!=typeof e&&(e=String(e)),e)}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(e,t){var n=new Uint8Array(e),i=new Uint8Array(t);return[].concat(M()(n),M()(i)).buffer}function f(e){var t="",n=new s,i=e.split(/\r\n?\r\n/),o=i[1],r=!0,a=!1,c=void 0;try{for(var d,u=I()(i[0].split(/\r?\n/));!(r=(d=u.next()).done);r=!0){var l=d.value;if(0===t.length&&(t=l),l.indexOf(":")>0){var p=l.split(":"),h=p.shift().trim();if(h){var f=p.join(":").trim();n.append(h,f)}}}}catch(e){a=!0,c=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw c}}return{firstLine:t,headers:n,content:o}}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(e)if("string"==typeof e)this._bodyText+=e;else if("object"===(void 0===e?"undefined":L()(e)))this._bodyText=q()(e);else if(te.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(te.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(te.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText+=e.toString();else if(te.arrayBuffer&&te.blob&&ie(e)){var t=p(e.buffer);this._bodyArrayBuffer=h(this._bodyArrayBuffer,t)}else{if(!te.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!oe(e))throw new Error("unsupported BodyInit type");var n=p(e.buffer);this._bodyArrayBuffer=h(this._bodyArrayBuffer,n)}else this._bodyText+="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):te.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},this._resetBody=function(){this.bodyUsed=!1,this._bodyText="",this._bodyBlob=null,this._bodyFormData=null,this._bodyArrayBuffer=null},te.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return F.a.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return F.a.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return F.a.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||F.a.resolve(this._bodyArrayBuffer):this.blob().then(_)}),this.text=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return l(this._bodyArrayBuffer);if(this._bodyFormData)throw new Error("could not read FormData body as text");return this._bodyText},te.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}}),t}function g(e){return new F.a(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function _(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function y(e){var t=new FileReader,n=g(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function b(e){return{method:e.substring(0,e.indexOf(" ")),path:e.substring(e.indexOf(" ")+1,e.lastIndexOf(" "))}}function w(e){return!!e.toUpperCase().startsWith("HTTP")}function C(e){return!(!e.toUpperCase().endsWith("HTTP/1.1")&&!e.toUpperCase().endsWith("HTTP/1.0"))}n.d(t,"e",function(){return C}),n.d(t,"c",function(){return w}),n.d(t,"f",function(){return b}),n.d(t,"d",function(){return ae}),n.d(t,"a",function(){return re}),n.d(t,"b",function(){return f}),n.d(t,"g",function(){return Z}),n.d(t,"i",function(){return o}),n.d(t,"h",function(){return i});var k=n(139),x=n.n(k),S=n(66),T=n.n(S),R=n(71),A=n.n(R),E=n(70),B=n.n(E),O=n(27),q=n.n(O),U=n(40),L=n.n(U),P=n(64),I=n.n(P),j=n(140),M=n.n(j),D=n(67),F=n.n(D),N=n(137),$=n.n(N),V=n(69),H=n.n(V),W=n(68),J=n.n(W),G=n(65),K=n.n(G),z=n(38),Q=n.n(z),X=n(39),Y=n.n(X),Z=function(){function e(){Q()(this,e),this.listeners=new K.a}return Y()(e,[{key:"addListener",value:function(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}},{key:"removeListener",value:function(e,t){var n=this.listeners.get(e),i=void 0;return n&&n.length&&(i=n.reduce(function(e,n,i){return"function"==typeof n&&n===t?e=i:e},-1)),i>-1&&(n.splice(i,1),this.listeners.set(e,n),!0)}},{key:"on",value:function(e,t){this.addListener(e,t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=this.listeners.get(e);return!(!o||!o.length)&&(o.forEach(function(e){e.apply(void 0,n)}),!0)}}]),e}(),ee=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],te={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in J.a,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(te.arrayBuffer)var ne=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ie=function(e){return e&&DataView.prototype.isPrototypeOf(e)},oe=ArrayBuffer.isView||function(e){return e&&ne.indexOf(Object.prototype.toString.call(e))>-1};s.prototype.append=function(e,t){e=d(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},s.prototype.delete=function(e){delete this.map[d(e)]},s.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},s.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},s.prototype.set=function(e,t){this.map[d(e)]=u(t)},s.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},s.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),a(e)},s.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},s.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),a(e)},te.iterable&&(s.prototype[H.a]=s.prototype.entries);var re=function(e){function t(e){Q()(this,t);var n=A()(this,(t.__proto__||T()(t)).call(this));return e=e||{},!e.headers&&n.headers||(n.headers=new s(e.headers)),n.method=r(e.method||n.method||"GET"),n.path=e.path||"/",n.resetBody(),n}return B()(t,e),Y()(t,[{key:"addBody",value:function(e){"GET"!==this.method.toUpperCase()&&this._initBody(e)}},{key:"constructHttpMessage",value:function(){var e=this.method+" "+this.path+" HTTP/1.1\r\n",t="",n=!0,i=!1,o=void 0;try{for(var r,a=I()(this.headers.entries());!(n=(r=a.next()).done);n=!0){var s=r.value,c=x()(s,2);t+=c[0]+":"+c[1]+"\r\n"}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return e+t+"\r\n"+this.text()}},{key:"resetBody",value:function(){this._resetBody()}},{key:"getHeaders",value:function(){var e={},t=!0,n=!1,i=void 0;try{for(var o,r=I()(this.headers.entries());!(t=(o=r.next()).done);t=!0){var a=o.value,s=x()(a,2),c=s[0],d=s[1];e[c.toLowerCase()]=d}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}return e}}]),t}(Z);v.call(re.prototype);var ae=function(e){function t(e,n){Q()(this,t);var i=A()(this,(t.__proto__||T()(t)).call(this));return i.ws=e||null,i.body=null,n||(n={}),i.type="default",i.status="status"in n?n.status:200,i.ok=i.status>=200&&i.status<300,i.statusText="statusText"in n?n.statusText:"OK",i.headers=new s(n.headers),i.url=n.url||"",i.resetBody(),i}return B()(t,e),Y()(t,[{key:"addBody",value:function(e){this._initBody(e)}},{key:"setStatus",value:function(e,t){this.status=e||200,this.statusText=t||"OK"}},{key:"setHeader",value:function(e,t){this.headers.set(e,t)}},{key:"resetBody",value:function(){this._resetBody()}},{key:"write",value:function(e){this.addBody(e)}},{key:"end",value:function(e){this.addBody(e);var t=this.constructHttpMessage();if(this.ws.readyState!==WebSocket.OPEN)throw new Error("Socket not opened");var n=o(t);i(n);this.ws.send(t),this.resetBody()}},{key:"constructHttpMessage",value:function(){var e="HTTP/1.1 "+this.status+" "+this.statusText+"\r\n",t="",n=!0,i=!1,o=void 0;try{for(var r,a=I()(this.headers.entries());!(n=(r=a.next()).done);n=!0){var s=r.value,c=x()(s,2);t+=c[0]+":"+c[1]+"\r\n"}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return e+t+"\r\n"+this.text()}},{key:"resetBody",value:function(){this._resetBody()}}],[{key:"errorResponse",value:function(){var e=new t(null,{status:0,statusText:""});return e.type="error",e}}]),t}(Z);v.call(ae.prototype)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(26),o=n(232),r=n(216),a=n.n(r),s=n(211),c=n.n(s),d=n(214),u=n.n(d),l=n(212),p=n.n(l),h=n(217),f=(n.n(h),n(218)),v=n.n(f),m=n(220),g=n.n(m),_=n(219),y=n.n(_);i.a.use(o.a),t.a=new o.a({routes:[{path:"/",redirect:"/createmeeting"},{path:"/createmeeting",name:"Main",components:{default:a.a,content:c.a,footer:p.a}},{path:"/querymeeting",components:{default:a.a,content:u.a,footer:p.a}},{path:"/meeting/peertopeer/:groupId",name:"peertopeer",components:{default:v.a}},{path:"/meeting/multi/:groupId",name:"multi",components:{default:a.a,content:y.a}},{path:"/meeting/single/:groupId",name:"single",components:{default:g.a}}]})},function(e,t,n){"use strict";var i=n(26),o=n(234),r=n(131);i.a.use(o.a);var a=new o.a.Store({modules:{signalingServer:r.a}});a.dispatch({type:"getSignalingServer"}),t.a=a},function(e,t){},function(e,t,n){function i(e){n(201)}var o=n(7)(n(117),n(225),i,null,null);e.exports=o.exports},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=n(12),r=n.n(o),a=n(19);t.default={name:"create-meeting-content",data:function(){return{meetingname:"",description:"",groupId:0,meetingType:["单点视频会话","多点视频会话","OneOnOne"],choosenSessionType:void 0,streamUrl:"",audio:!1,video:!0,wsConnection:null}},computed:{getSignalingServer:function(){return this.$store.getters.getSignalingServer}},beforeDestroy:function(){n.i(a.a)("CreateMeetingContent beforeDestroy"),this.wsConnection&&(this.wsConnection.close(),this.wsConnection=null)},created:function(){n.i(a.a)("CreateMeetingContent created")},methods:{createSession:function(){if(void 0===this.choosenSessionType)return void alert("请选择要创建的视频会话类型");var e="";switch(this.choosenSessionType){case 0:e="single",this.singlePointHandler(e);break;case 1:e="multi",this.pttHandler(e);break;case 2:e="peertopeer"}console.log("create meeting: "+this.streamUrl)},singlePointHandler:function(e){var t=this;r.a.post("/webMedia/singlepoint/webrtc",{rtsp:this.streamUrl,video:this.video,audio:this.audio}).then(function(e){var o=e.data,r=t.getSignalingServer[0]+"/endpoint"+o.endpointId;n.i(a.a)(r),t.wsConnection=new i.a(r),t.wsConnection.onConnected=t.onWsConnected}).catch(function(e){console.log(e)})},pttHandler:function(e){var t=this;r.a.post("/webmedia/ptt/group",{title:this.meetingname,desc:this.description}).then(function(i){var o=i.data;n.i(a.a)(o),t.$router.push({name:""+e,params:{groupId:o.groupId}})}).catch(function(e){console.log(e)})},onWsConnected:function(){var e=this;n.i(a.a)("onWsConnected"),n.i(a.a)("meetingType:"+this.choosenSessionType);var t={method:"post",path:"/signalling-bridge/group/"+ ++this.groupId},i=this;if(this.wsConnection){this.wsConnection.createClientRequest(t,function(t){if(t.ok)return void i.$router.push({name:0===i.choosenSessionType?"single":"multi",params:{groupId:e.groupId}});alert(t.statusText)}).end()}},resetSession:function(){this.choosenSessionType=void 0},createPipeline:function(e){var t=this;r.a.post("/pipeline",{sourceUrl:t.streamUrl}).then(function(n){t.$router.push({name:""+e,params:{groupId:t.groupId}})}).catch(function(e){console.log(e)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"page-footer",data:function(){return{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"page-header",data:function(){return{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=n.n(i),r=n(19);t.default={name:"query-meeting-content",data:function(){return{meetingInfo:[]}},beforeRouteEnter:function(e,t,i){o.a.get("/webmedia/ptt/group/").then(function(e){i(function(t){n.i(r.a)("query:\r\n"),n.i(r.a)(e.data),t.meetingInfo=e.data.groupInfo})}).catch(function(e){console.log(e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"sidebar",data:function(){return{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(213),o=n.n(i),r=n(215),a=n.n(r);t.default={name:"Main-view",components:{PageHeader:o.a,Sidebar:a.a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=n.n(i),r=n(18),a=n(12),s=n.n(a),c=n(36);t.default={name:"meeting-view",data:function(){return{groub_id:0,peer_connection:null,endpoint_id:null,endpoint:null,stream:null}},components:{},created:function(){this.endpoint_id=Math.floor(1e3*Math.random()),console.log("creatd endpoint_id: "+this.endpoint_id),this.group_id=this.$route.params.groupId,this.createEndpoint()},beforeCreate:function(){console.log("beforeCreate groupid: "+this.$route.params.groupId)},methods:{createEndpoint:function(){console.log("hostname: "+c.a);var e={hostname:c.a,port:c.b,path:"/"+this.endpoint_id};this.endpoint=new r.a(e);var t=this;this.endpoint.onConnected=function(){console.log(t.endpoint_id+" connected to the signalling server!"),t.endpoint.addServiceListener(t.serviceListenerCallback),t.joinGroup(),t.createMPEndpoint()}},createMPEndpoint:function(){s.a.post("/mpendpoint/"+this.group_id+"/"+this.endpoint_id).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},serviceListenerCallback:function(e,t){console.log("serviceListenerCallback:\r\n"+e._bodyText);var n=void 0;try{n=JSON.parse(e._bodyText)}catch(e){console.log(e.message)}if(n.state)console.log(n.state);else switch(n.type){case"offer":this.handleOffer(n);break;case"answer":this.handleAnswer(n);break;case"candidate":this.handleCandidate(n);break;case"leave":this.handleLeave()}},joinGroup:function(){var e={method:"post",path:"/signalling-bridge/join/"+this.group_id+"/"+this.endpoint_id},t=this,n=this.endpoint.createClientRequest(e,function(e){e.ok?t.handleJoin():console.log(e.statusText)});n.write(o()({prefix:"/pipeline/1",type:"Endpoint"})),n.end()},handleJoin:function(){function e(e){this.stream=e,document.querySelector("#localVideo").src=window.URL.createObjectURL(e);this.peer_connection=new RTCPeerConnection,this.peer_connection.addStream(e),this.peer_connection.onaddstream=function(e){document.querySelector("#remoteVideo").src=window.URL.createObjectURL(e.stream)};var t=this;this.peer_connection.onicecandidate=function(e){if(e.candidate){var n={method:"post",path:"/signalling-bridge/media-description/"+t.group_id+"/"+t.endpoint_id},i=t.endpoint.createClientRequest(n,function(e){e.ok?console.log("onicecandidate ok:"+e.statusText):console.log("onicecandidate error:"+e.statusText)});i.write(o()({type:"candidate",candidate:e.candidate})),i.end()}}}function t(e){console.log(e)}console.log("handleJoin");var n=this,i={video:!0,audio:!0};navigator.getUserMedia?(i={video:!0},navigator.webkitGetUserMedia(i,e.bind(n),t)):navigator.mediaDevices.getUserMedia?(i={video:!0},navigator.mediaDevices.getUserMedia(i).then(e.bind(n)).catch(t)):navigator.webkitGetUserMedia?(i={video:!0},navigator.webkitGetUserMedia(i,e.bind(n),t)):console.log("This browser does not support WebRTC - visit WebRTC.org for more info")},handleOffer:function(e){this.peer_connection.setRemoteDescription(new RTCSessionDescription(e));var t=this;this.peer_connection.createAnswer(function(e){t.peer_connection.setLocalDescription(e);var n={method:"post",path:"/signalling-bridge/media-description/"+t.group_id+"/"+t.endpoint_id},i=t.endpoint.createClientRequest(n,function(e){e.ok,console.log("handleOffer:"+e.statusText)});i.write(o()({type:"answer",answer:e})),i.end()},function(e){console.log("Error when creating an answer")})},handleAnswer:function(e){this.peer_connection.setRemoteDescription(new RTCSessionDescription(e))},handleCandidate:function(e){this.peer_connection.addIceCandidate(new RTCIceCandidate(e))},createOffer:function(){var e=this,t={offerToReceiveAudio:0,offerToReceiveVideo:1};this.peer_connection.createOffer(function(t){e.peer_connection.setLocalDescription(t).then(function(){var n={method:"post",path:"/signalling-bridge/media-description/"+e.group_id+"/"+e.endpoint_id},i=e.endpoint.createClientRequest(n,function(e){e.ok,console.log("createOffer:"+e.statusText)});i.write(o()({type:"offer",offer:t})),i.end()})},function(e){console.log("Error when creating an offer")},t)},handUp:function(){var e={method:"delete",path:"/signalling-bridge/join/"+this.group_id+"/"+this.endpoint_id};this.endpoint.createClientRequest(e,function(e){e.ok,console.log("handUp:"+e.statusText)}).end(),this.handleLeave()},handleLeave:function(){document.querySelector("#remoteVideo").src=null,this.peer_connection.close(),this.peer_connection.onicecandidate=null,this.peer_connection.onaddstream=null}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=n.n(i),r=n(18),a=n(12),s=(n.n(a),n(36)),c=n(19);t.default={name:"meeting-view",data:function(){return{groub_id:0,peer_connection:null,endpoint_id:null,endpoint:null,localStream:null,localVideo:null,remoteVideo:null}},components:{},mounted:function(){this.localVideo=document.getElementById("localVideo"),this.remoteVideo=document.getElementById("remoteVideo"),this.localVideo.addEventListener("loadedmetadata",function(){n.i(c.a)("Local video videoWidth: "+this.videoWidth+"px,  videoHeight: "+this.videoHeight+"px")}),this.remoteVideo.addEventListener("loadedmetadata",function(){n.i(c.a)("Remote video videoWidth: "+this.videoWidth+"px,  videoHeight: "+this.videoHeight+"px")}),document.getElementById("callBtn").disabled=!0},created:function(){this.endpoint_id=Math.floor(1e3*Math.random()),console.log("creatd endpoint_id: "+this.endpoint_id),this.group_id=this.$route.params.groupId,this.createEndpoint()},beforeCreate:function(){console.log("beforeCreate groupid: "+this.$route.params.groupId)},methods:{createEndpoint:function(){console.log("hostname:"+s.a);var e={hostname:s.a,port:s.b,path:"/"+this.endpoint_id};this.endpoint=new r.a(e);var t=this;this.endpoint.onConnected=function(){n.i(c.a)(t.endpoint_id+" connected to the signalling server!"),t.endpoint.addServiceListener(t.serviceListenerCallback),t.joinGroup()}},serviceListenerCallback:function(e,t){console.log("serviceListenerCallback:\r\n"+e._bodyText);var n=void 0;try{n=JSON.parse(e._bodyText)}catch(e){console.log(e.message)}if(n.state)console.log(n.state),document.getElementById("callBtn").disabled=!1;else switch(n.type){case"offer":this.handleOffer(n.offer);break;case"answer":this.handleAnswer(n.answer);break;case"candidate":this.handleCandidate(n.candidate);break;case"leave":this.handleLeave()}},joinGroup:function(){var e={method:"post",path:"/signalling-bridge/join/"+this.group_id+"/"+this.group_id},t=this,i=this.endpoint.createClientRequest(e,function(e){e.ok?(n.i(c.a)("Join group ok"),t.handleJoin()):n.i(c.a)("Join group error")});i.write(o()({prefix:"/pipeline/1",type:"Endpoint"+this.endpoint_id})),i.end()},handleJoin:function(){function e(e){n.i(c.a)("Received local stream"),this.localVideo.srcObject=e,this.localStream=e,this.peer_connection=new RTCPeerConnection;var t=this;this.peer_connection.addStream(e),this.peer_connection.onaddstream=function(e){document.querySelector("#remoteVideo").src=window.URL.createObjectURL(e.stream)},this.peer_connection.onicecandidate=function(e){if(e.candidate){var n={type:"candidate",candidate:e.candidate};t.request(n)}},this.peer_connection.oniceconnectionstatechange=function(e){this.peer_connection&&(n.i(c.a)("ICE state: "+this.peer_connection.iceConnectionState),console.log("ICE state change event: ",e))}.bind(this)}function t(e){n.i(c.a)(e)}var i=this,o={video:!0};navigator.mediaDevices.getUserMedia(o).then(e.bind(i)).catch(t)},handleOffer:function(e){function t(e){i.peer_connection.setLocalDescription(e),n.i(c.a)("answer sdp: "+e.sdp);var t={type:"answer",answer:e};i.request(t)}var i=this;n.i(c.a)("setRemoteDescription start"),i.peer_connection.setRemoteDescription(e).then(function(){n.i(c.a)("setRemoteDescription complete"),n.i(c.a)("createAnswer start"),i.peer_connection.createAnswer().then(t,function(){n.i(c.a)("Failed to create session description: "+error.toString())})},function(e){n.i(c.a)("Failed to set session description: "+e.toString())})},handleAnswer:function(e){this.peer_connection.setRemoteDescription(e)},handleCandidate:function(e){this.peer_connection.addIceCandidate(e)},createOffer:function(){function e(e){n.i(c.a)("setLocalDescription start"),i.peer_connection.setLocalDescription(e).then(function(){n.i(c.a)("setLocalDescription complete\n"),n.i(c.a)("offer sdp: "+e.sdp);var t={type:"offer",offer:e};i.request(t)},function(e){n.i(c.a)("Failed to set session description: "+e.toString())})}var t={offerToReceiveAudio:0,offerToReceiveVideo:0},i=this;n.i(c.a)("createOffer start"),i.peer_connection.createOffer(t).then(e,function(e){n.i(c.a)("Failed to create session description: "+e.toString())})},handUp:function(){var e={method:"delete",path:"/signalling-bridge/join/"+this.group_id+"/"+this.group_id};this.endpoint.createClientRequest(e,function(e){e.ok,console.log("handUp:"+e.statusText)}).end(),this.handleLeave()},handleLeave:function(){document.querySelector("#remoteVideo").src=null,this.peer_connection.close(),this.peer_connection=null},request:function(e){var t={method:"post",path:"/signalling-bridge/media-description/"+this.group_id+"/"+this.group_id},i=this.endpoint.createClientRequest(t,function(t){t.ok?n.i(c.a)("send "+e.type+" ok"):n.i(c.a)("send "+e.type+" error")});i.write(o()(e)),i.end()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=n.n(i),r=n(19);t.default={name:"ptt-view",data:function(){return{type:void 0,types:["ipc","webrtc"],groupId:void 0,memberName:void 0,groupMember:[]}},created:function(){var e=this;this.groupId=this.$route.params.groupId,n.i(r.a)("groupId:"+this.groupId),o.a.get("/webmedia/ptt/group/member/"+this.groupId).then(function(t){e.groupMember=t.data.groupMember}).catch(function(e){console.log(e)})},methods:{addMember:function(){var e=this;n.i(r.a)(this.type),n.i(r.a)(this.memberName),o.a.put("/webmedia/ptt/group/member/"+e.groupId,{type:this.type,memberName:this.memberName}).then(function(t){n.i(r.a)(t),e.groupMember.push({type:e.type,memberName:e.memberName}),e.type=void 0,e.memberName=void 0}).catch(function(e){console.log(e)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),o=n.n(i),r=n(18),a=n(12),s=n.n(a),c=(n(36),n(19));t.default={name:"meeting-view",data:function(){return{groub_id:0,peer_connection:null,endpoint_id:null,endpoint:null,videoCheck:!1,audioCheck:!1}},computed:{getSignalingServer:function(){return this.$store.getters.getSignalingServer}},created:function(){this.endpoint_id=Math.floor(1e3*Math.random()),console.log("creatd endpoint_id: "+this.endpoint_id),this.group_id=this.$route.params.groupId,this.createEndpoint()},beforeCreate:function(){console.log("beforeCreate groupid: "+this.$route.params.groupId)},methods:{createEndpoint:function(){var e=this.getSignalingServer[0]+"/endpoint"+this.endpoint_id;this.endpoint=new r.a(e);var t=this;this.endpoint.onConnected=function(){console.log(t.endpoint_id+" connected to the signalling server!"),t.endpoint.addServiceListener(t.serviceListenerCallback),t.joinGroup(),t.createMPEndpoint()}},createMPEndpoint:function(){s.a.post("/mpendpoint/"+this.group_id+"/"+this.endpoint_id).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},serviceListenerCallback:function(e,t){console.log("serviceListenerCallback:\r\n"+e._bodyText);var n=void 0;try{n=JSON.parse(e._bodyText)}catch(e){console.log(e.message)}if(n.state)console.log(n.state);else switch(n.type){case"offer":this.handleOffer(n.offer);break;case"answer":this.handleAnswer(n.answer);break;case"candidate":this.handleCandidate(n.candidate);break;case"leave":this.handleLeave()}},joinGroup:function(){var e={method:"post",path:"/signalling-bridge/join/"+this.group_id+"/"+this.endpoint_id},t=this,n=this.endpoint.createClientRequest(e,function(e){e.ok?t.handleJoin():console.log(e.statusText)});n.write(o()({prefix:"/pipeline/1",type:"Endpoint"})),n.end()},handleJoin:function(){this.peer_connection=new RTCPeerConnection(null),this.peer_connection.ontrack=function(e){var t=document.getElementById("remoteVideo");t.srcObject!==e.streams[0]&&(t.srcObject=e.streams[0],n.i(c.a)("received remote stream"))};var e=this;this.peer_connection.onicecandidate=function(t){if(t.candidate){var n={method:"post",path:"/signalling-bridge/media-description/"+e.group_id+"/"+e.endpoint_id},i=e.endpoint.createClientRequest(n,function(e){e.ok?console.log("onicecandidate ok:"+e.statusText):console.log("onicecandidate error:"+e.statusText)});i.write(o()({type:"candidate",candidate:t.candidate})),i.end()}},this.peer_connection.oniceconnectionstatechange=function(t){n.i(c.a)("ICE state: "+e.peer_connection.iceConnectionState),console.log("ICE state change event: ",t)}},handleOffer:function(e){function t(){n.i(c.a)("setRemoteDescription complete"),n.i(c.a)("createAnswer start"),this.peer_connection.createAnswer().then(i,onCreateSessionDescriptionError)}function i(e){this.peer_connection.setLocalDescription(e).then(function(){n.i(c.a)("setLocalDescription complete");var t={method:"post",path:"/signalling-bridge/media-description/"+self.group_id+"/"+self.endpoint_id},i=self.endpoint.createClientRequest(t,function(e){e.ok,console.log("handleOffer:"+e.statusText)});i.write(o()({type:"answer",answer:e})),i.end()},function(e){n.i(c.a)("Failed to create session description: "+e.toString())})}function r(e){n.i(c.a)("Failed to set session description: "+e.toString())}this.peer_connection.setRemoteDescription(e).then(function(){t()},r)},handleAnswer:function(e){this.peer_connection.setRemoteDescription(e)},handleCandidate:function(e){this.peer_connection.addIceCandidate(e)},createOffer:function(){function e(e){n.i(c.a)("CreateOfferSuccess:\n"+e.sdp),i.peer_connection.setLocalDescription(e).then(function(){n.i(c.a)("setLocalDescription complete");var t={method:"post",path:"/signalling-bridge/media-description/"+i.group_id+"/"+i.endpoint_id},r=i.endpoint.createClientRequest(t,function(e){e.ok,console.log("createOffer:"+e.statusText)});r.write(o()({type:"offer",offer:e})),r.end()},t)}function t(e){n.i(c.a)("Failed to create session description: "+e.toString())}var i=this,r={offerToReceiveAudio:this.audioCheck,offerToReceiveVideo:this.videoCheck};this.peer_connection.createOffer(r).then(e,t)},handUp:function(){var e={method:"delete",path:"/signalling-bridge/join/"+this.group_id+"/"+this.endpoint_id};this.endpoint.createClientRequest(e,function(e){e.ok,console.log("handUp:"+e.statusText)}).end(),this.handleLeave()},handleLeave:function(){document.querySelector("#remoteVideo").srcObject=null,this.peer_connection.close(),this.peer_connection=null}}}},function(e,t,n){"use strict";function i(e,t,n){this.request_id=r++,this.cb=n,this.req=t,this.ws=e,this.sent=!1}var o=n(37),r=1;i.prototype.getRequestId=function(){return this.request_id},i.prototype.onResponse=function(e,t){var i=void 0;if("string"==typeof e)i=e;else if(e instanceof ArrayBuffer){var r=e;i=n.i(o.h)(r)}this.cb&&t&&(this.cb(t),t.emit("data",i),t.emit("end"))},i.prototype.write=function(e){this.req.addBody(e)},i.prototype.end=function(e){if(this.sent)throw new Error("Request can not be sent again!");this.req.addBody(e);var t=this.req.constructHttpMessage();if(this.ws.readyState!==WebSocket.OPEN)throw new Error("Socket not opened");var i=n.i(o.i)(t);n.i(o.h)(i);this.ws.send(t),this.sent=!0},i.prototype.getHeaders=function(){return this.req.getHeaders()},t.a=i},function(e,t,n){"use strict";var i=n(66),o=n.n(i),r=n(38),a=n.n(r),s=n(39),c=n.n(s),d=n(71),u=n.n(d),l=n(70),p=n.n(l),h=n(37),f=function(e){function t(){return a()(this,t),u()(this,(t.__proto__||o()(t)).call(this))}return p()(t,e),c()(t,[{key:"addRequestListener",value:function(e){this.addListener("request",e)}},{key:"removeRequestListener",value:function(e){this.removeListener("request",e)}}]),t}(h.g);t.a=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(26),o=n(99),r=n.n(o),a=n(96),s=n(97),c=n(98);n.n(c);i.a.config.productionTip=!1,new i.a({el:"#app",router:a.a,store:s.a,template:"<App/>",components:{App:r.a}})},function(e,t,n){"use strict";var i=n(67),o=n.n(i),r=n(12),a=n.n(r),s={signalingServer:[]},c={setSignalingServer:function(e,t){console.log("payload.signalingServer:\r\n"),console.log(t.signalingServer),e.signalingServer=t.signalingServer}},d={getSignalingServer:function(e,t){var n=e.commit;return new o.a(function(e,t){a.a.get("/webMedia/signalingServer/").then(function(t){n({type:"setSignalingServer",signalingServer:t.data.signalingServer}),e(t)},function(e){t(e)})})}},u={getSignalingServer:function(e,t){return e.signalingServer}};t.a={state:s,mutations:c,actions:d,getters:u}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t,n){function i(e){n(207)}var o=n(7)(n(118),n(231),i,"data-v-953b34da",null);e.exports=o.exports},function(e,t,n){function i(e){n(199)}var o=n(7)(n(119),n(223),i,"data-v-47e15203",null);e.exports=o.exports},function(e,t,n){function i(e){n(204)}var o=n(7)(n(120),n(228),i,"data-v-6913b5f5",null);e.exports=o.exports},function(e,t,n){function i(e){n(206)}var o=n(7)(n(121),n(230),i,"data-v-8518d406",null);e.exports=o.exports},function(e,t,n){function i(e){n(197)}var o=n(7)(n(122),n(221),i,"data-v-03623c33",null);e.exports=o.exports},function(e,t,n){function i(e){n(200)}var o=n(7)(n(123),n(224),i,"data-v-5111084a",null);e.exports=o.exports},function(e,t,n){function i(e){n(202)}var o=n(7)(n(124),n(226),i,"data-v-6134a27a",null);e.exports=o.exports},function(e,t,n){function i(e){n(205)}var o=n(7)(n(125),n(229),i,"data-v-755cbb50",null);e.exports=o.exports},function(e,t,n){function i(e){n(203)}var o=n(7)(n(126),n(227),i,null,null);e.exports=o.exports},function(e,t,n){function i(e){n(198)}var o=n(7)(n(127),n(222),i,"data-v-33d190f9",null);e.exports=o.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-sidebar"},[n("div",{staticClass:"sidebar-menugroup"},[n("div",{staticClass:"sidebar-grouptitle"},[e._v("视频会话管理")]),e._v(" "),n("ul",{staticClass:"sidebar-menu"},[n("router-link",{staticClass:"sidebar-menuitem",attrs:{to:"/createmeeting",tag:"li"}},[e._v("创建视频会话")]),e._v(" "),n("router-link",{staticClass:"sidebar-menuitem",attrs:{to:"/querymeeting",tag:"li"}},[e._v("查看视频会话")])],1),e._v(" "),n("div",{staticClass:"sidebar-grouptitle"},[e._v("测试用例")]),e._v(" "),e._m(0)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"sidebar-menu"},[n("li",[n("a",{attrs:{href:"/test_report/LiveStreamTestReport.html"}},[e._v("查看测试报告")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"call-page",attrs:{id:"callPage"}},[n("video",{attrs:{id:"remoteVideo",autoplay:""}}),e._v(" "),n("div",{staticClass:"row text-center"},[n("div",{staticClass:"col-md-12"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.videoCheck,expression:"videoCheck"}],attrs:{type:"checkbox",value:"video"},domProps:{checked:Array.isArray(e.videoCheck)?e._i(e.videoCheck,"video")>-1:e.videoCheck},on:{change:function(t){var n=e.videoCheck,i=t.target,o=!!i.checked;if(Array.isArray(n)){var r=e._i(n,"video");i.checked?r<0&&(e.videoCheck=n.concat(["video"])):r>-1&&(e.videoCheck=n.slice(0,r).concat(n.slice(r+1)))}else e.videoCheck=o}}}),e._v("\n                接收视频")]),n("br"),e._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.audioCheck,expression:"audioCheck"}],attrs:{type:"checkbox",value:"audio"},domProps:{checked:Array.isArray(e.audioCheck)?e._i(e.audioCheck,"audio")>-1:e.audioCheck},on:{change:function(t){var n=e.audioCheck,i=t.target,o=!!i.checked;if(Array.isArray(n)){var r=e._i(n,"audio");i.checked?r<0&&(e.audioCheck=n.concat(["audio"])):r>-1&&(e.audioCheck=n.slice(0,r).concat(n.slice(r+1)))}else e.audioCheck=o}}}),e._v("\n                接收音频")]),n("br"),e._v(" "),n("button",{staticClass:"btn-success btn",attrs:{id:"callBtn"},on:{click:e.createOffer}},[e._v("Call")]),e._v(" "),n("button",{staticClass:"btn-danger btn",attrs:{id:"hangUpBtn"},on:{click:e.handUp}},[e._v("Hang Up")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-footer"},[n("hr"),e._v("\n    更多问题，欢迎联系"),n("a",[e._v("管理员")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-view"},[n("page-header"),e._v(" "),n("sidebar")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view"),e._v(" "),n("router-view",{staticClass:"content-view",attrs:{name:"content"}}),e._v(" "),n("router-view",{staticClass:"footer-view",attrs:{name:"footer"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"call-page",attrs:{id:"callPage"}},[n("video",{attrs:{id:"localVideo",autoplay:""}}),e._v(" "),n("video",{attrs:{id:"remoteVideo",autoplay:""}}),e._v(" "),n("div",{staticClass:"row text-center"},[n("div",{staticClass:"col-md-12"},[n("button",{staticClass:"btn-success btn",attrs:{id:"callBtn"},on:{click:e.createOffer}},[e._v("Call")]),e._v(" "),n("button",{staticClass:"btn-danger btn",attrs:{id:"hangUpBtn"},on:{click:e.handUp}},[e._v("Hang Up")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-content"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.addMember(t)}}},[n("fieldset",[n("legend",[e._v("多点视频会话")]),e._v(" "),n("table",{staticClass:"formtable"},[n("tbody",[n("tr",[n("td",[e._v("成员类型选择:")]),e._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.type=t.target.multiple?n:n[0]}}},e._l(e.types,function(t){return n("option",[e._v(e._s(t))])}))]),e._v(" "),"webrtc"==e.type?[n("td",[e._v("成员名称:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.memberName,expression:"memberName"}],attrs:{type:"text",required:""},domProps:{value:e.memberName},on:{input:function(t){t.target.composing||(e.memberName=t.target.value)}}})])]:"ipc"==e.type?[n("td",[e._v("RTSP:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.memberName,expression:"memberName"}],attrs:{type:"text",required:""},domProps:{value:e.memberName},on:{input:function(t){t.target.composing||(e.memberName=t.target.value)}}})])]:e._e(),e._v(" "),e._m(0)],2),e._v(" "),e._l(e.groupMember,function(t){return n("tr",[n("td",[e._v("成员类型:")]),e._v(" "),n("td",[e._v(e._s(t.type))]),e._v(" "),"ipc"==t.type?n("td",[e._v("RTSP:")]):"webrtc"==t.type?n("td",[e._v("成员名称:")]):e._e(),e._v(" "),n("td",[e._v(e._s(t.memberName))]),e._v(" "),"webrtc"==t.type?n("td",[n("a",{attrs:{href:"#"}},[e._v("发送会话请求")])]):e._e()])})],2)])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("input",{staticClass:"clickbutton",attrs:{type:"submit",value:"添加"}})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header"},[n("div",{staticClass:"header-banner"}),e._v(" "),n("div",{staticClass:"header-title"},[e._v("\n            欢迎访问科达WOM演示系统\n        ")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"call-page",attrs:{id:"callPage"}},[n("h1",[e._v("一对一视频")]),e._v(" "),n("video",{attrs:{id:"localVideo",autoplay:"",controls:""}}),e._v(" "),n("video",{attrs:{id:"remoteVideo",autoplay:"",controls:""}}),e._v(" "),n("div",{staticClass:"row text-center"},[n("div",{staticClass:"col-md-12"},[n("button",{staticClass:"btn-success btn",attrs:{id:"callBtn"},on:{click:e.createOffer}},[e._v("Call")]),e._v(" "),n("button",{staticClass:"btn-danger btn",attrs:{id:"hangUpBtn"},on:{click:e.handUp}},[e._v("Hang Up")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-content"},[n("div",{staticClass:"content-nav"},[e._v("\n        会话管理 > 查看会话\n    ")]),e._v(" "),n("table",{staticClass:"listtable"},[n("caption",[e._v("所有会话:")]),e._v(" "),n("tbody",[e._m(0),e._v(" "),e._l(e.meetingInfo,function(t){return n("tr",[n("td",[e._v(e._s(t.type))]),e._v(" "),n("td",[e._v(e._s(t.desc))]),e._v(" "),n("td",[n("router-link",{attrs:{to:{name:t.type,params:{groupId:t.groupId}}}},[e._v("进入会话")])],1)])})],2)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"listheader"},[n("th",[e._v("会话类型")]),e._v(" "),n("th",[e._v("内容")]),e._v(" "),n("th",[e._v("操作")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-content"},[n("div",{staticClass:"content-nav"},[e._v("\n        会话管理 > 创建视频会话\n    ")]),e._v(" "),n("form",{on:{submit:function(t){return t.preventDefault(),e.createSession(t)},reset:function(t){return t.preventDefault(),e.resetSession(t)}}},[n("fieldset",[n("legend",[e._v("会话信息")]),e._v(" "),n("table",{staticClass:"formtable"},[n("tbody",[n("tr",[n("td",[e._v("类型:")]),e._v(" "),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.choosenSessionType,expression:"choosenSessionType"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.choosenSessionType=t.target.multiple?n:n[0]}}},e._l(e.meetingType,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])}))])]),e._v(" "),0===e.choosenSessionType?[n("tr",[n("td",[e._v("视频流地址:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.streamUrl,expression:"streamUrl"}],attrs:{type:"text",required:"",placeholder:"rtsp://*/id=*"},domProps:{value:e.streamUrl},on:{input:function(t){t.target.composing||(e.streamUrl=t.target.value)}}})])]),e._v(" "),n("tr",[n("td",[e._v("Video:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.video,expression:"video"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.video)?e._i(e.video,null)>-1:e.video},on:{change:function(t){var n=e.video,i=t.target,o=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.video=n.concat([null])):r>-1&&(e.video=n.slice(0,r).concat(n.slice(r+1)))}else e.video=o}}})])]),e._v(" "),n("tr",[n("td",[e._v("Audio:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.audio,expression:"audio"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.audio)?e._i(e.audio,null)>-1:e.audio},on:{change:function(t){var n=e.audio,i=t.target,o=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.audio=n.concat([null])):r>-1&&(e.audio=n.slice(0,r).concat(n.slice(r+1)))}else e.audio=o}}})])])]:e._e(),e._v(" "),1===e.choosenSessionType?[n("tr",[n("td",[e._v("会话主题:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.meetingname,expression:"meetingname"}],attrs:{id:"capacity",type:"text",required:"",placeholder:"例如：流媒体",maxlength:"20"},domProps:{value:e.meetingname},on:{input:function(t){t.target.composing||(e.meetingname=t.target.value)}}})])]),e._v(" "),n("tr",[n("td",[e._v("备注：")]),e._v(" "),n("td",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{id:"description",maxlength:"200",rows:"5",cols:"60",required:"",placeholder:"200字以内的文字描述"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})])])]:e._e(),e._v(" "),e._m(0)],2)])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("td",{staticClass:"command",attrs:{colspan:"2"}},[n("input",{staticClass:"clickbutton",attrs:{type:"submit",value:"创建"}}),e._v(" "),n("input",{staticClass:"clickbutton",attrs:{type:"reset",value:"重置"}})])])}]}}]),[130]);
//# sourceMappingURL=app.5ed018e90903ba6770b2.js.map